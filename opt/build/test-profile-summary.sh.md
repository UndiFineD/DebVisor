# Code Issues Report: opt\build\test-profile-summary.sh

Generated: 2025-12-13T17:07:40.089309
Source: opt\build\test-profile-summary.sh

## Issues Summary

Total: 60 issues found

| Line | Column | Tool | Code | Severity | Message |
|------|--------|------|------|----------|---------|
| 1 | 20 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 2 | 18 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 3 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 4 | 45 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 5 | 59 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 6 | 43 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 7 | 87 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 8 | 22 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 9 | 31 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 10 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 11 | 32 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 12 | 59 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 13 | 9 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 14 | 3 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 15 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 16 | 28 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 17 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 18 | 39 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 19 | 54 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 20 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 21 | 30 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 22 | 29 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 23 | 47 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 24 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 25 | 27 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 26 | 107 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 27 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 28 | 64 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 29 | 4 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 30 | 29 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 31 | 52 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 32 | 52 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 33 | 21 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 34 | 4 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 35 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 36 | 59 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 37 | 61 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 38 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 39 | 35 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 40 | 58 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 41 | 11 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 42 | 5 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 43 | 36 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 44 | 59 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 45 | 11 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 46 | 5 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 47 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 48 | 60 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 49 | 65 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 50 | 25 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 51 | 11 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 52 | 4 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 53 | 64 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 54 | 56 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 55 | 26 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 56 | 11 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 57 | 4 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 58 | 5 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 59 | 1 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |
| 60 | 82 | shellcheck | `1017` | ERROR | Literal carriage return. Run script through tr -d '\r' . |

## Implementation Status

Items marked below as fixed:

## Fix Proposals

### 60 issues to fix

### Issue at Line 1

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## !/usr/bin/env bash
set -euo pipefail

## Smoke test for debvisor-profile-summary.sh
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 2

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## !/usr/bin/env bash
set -euo pipefail

## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 3

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## !/usr/bin/env bash
set -euo pipefail

## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 4

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## !/usr/bin/env bash
set -euo pipefail

## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 5

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
set -euo pipefail

## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 6

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 7

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## Smoke test for debvisor-profile-summary.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 8

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT

if [[! -x "${HELPER}"]]; then
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 9

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
ROOT_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT

if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 10

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
HELPER="${ROOT_DIR}/config/includes.chroot/usr/local/sbin/debvisor-profile-summary.sh"
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT

if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 11

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
TMPDIR="$(mktemp -d)"
trap 'rm -rf "${TMPDIR}"' EXIT

if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
fi
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 12

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
trap 'rm -rf "${TMPDIR}"' EXIT

if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
fi

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 13

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
fi

profiles=(ceph zfs usb-zfs)
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 14

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
if [[! -x "${HELPER}"]]; then
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
fi

profiles=(ceph zfs usb-zfs)

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 15

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  echo "Helper not found or not executable: ${HELPER}" >&2
  exit 1
fi

profiles=(ceph zfs usb-zfs)

## Create a fake filesystem layout once
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 16

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  exit 1
fi

profiles=(ceph zfs usb-zfs)

## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 17

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
fi

profiles=(ceph zfs usb-zfs)

## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 18

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

profiles=(ceph zfs usb-zfs)

## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

for p in "${profiles[@]}"; do
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 19

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
profiles=(ceph zfs usb-zfs)

## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 20

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 21

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
## Create a fake filesystem layout once
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 22

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
mkdir -p "${TMPDIR}/etc" "${TMPDIR}/var/log/debvisor"

for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

  # Clean previous outputs
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 23

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 24

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
for p in "${profiles[@]}"; do
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 25

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  echo "Testing profile: $p"
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

  # Run helper in a chroot-like environment by overriding paths
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 26

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  echo "$p" > "${TMPDIR}/etc/debvisor-profile"

  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

  # Run helper in a chroot-like environment by overriding paths
  (
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 27

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

  # Run helper in a chroot-like environment by overriding paths
  (
    cd "${TMPDIR}" || exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 28

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  # Clean previous outputs
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

  # Run helper in a chroot-like environment by overriding paths
  (
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 29

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  rm -f "${TMPDIR}/var/log/debvisor/profile-summary.txt" "${TMPDIR}/var/log/debvisor/profile-summary.json"

  # Run helper in a chroot-like environment by overriding paths
  (
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 30

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

  # Run helper in a chroot-like environment by overriding paths
  (
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 31

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  # Run helper in a chroot-like environment by overriding paths
  (
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
  )
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 32

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  (
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
  )

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 33

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    cd "${TMPDIR}" || exit 1
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
  )

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 34

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    ln -sf "${TMPDIR}/etc" /etc 2>/dev/null || true
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
  )

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 35

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    ln -sf "${TMPDIR}/var" /var 2>/dev/null || true
    bash "${HELPER}"
  )

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 36

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    bash "${HELPER}"
  )

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

  if [[! -s "${TXT_OUT}"]]; then
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 37

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  )

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 38

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 39

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  TXT_OUT="${TMPDIR}/var/log/debvisor/profile-summary.txt"
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
  fi
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 40

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  JSON_OUT="${TMPDIR}/var/log/debvisor/profile-summary.json"

  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
  fi
  if [[! -s "${JSON_OUT}"]]; then
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 41

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
  fi
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 42

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  if [[! -s "${TXT_OUT}"]]; then
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
  fi
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 43

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    echo "Missing or empty ${TXT_OUT} for profile $p" >&2
    exit 1
  fi
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
  fi
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 44

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    exit 1
  fi
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
  fi

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 45

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  fi
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
  fi

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 46

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  if [[! -s "${JSON_OUT}"]]; then
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
  fi

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 47

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    echo "Missing or empty ${JSON_OUT} for profile $p" >&2
    exit 1
  fi

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 48

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    exit 1
  fi

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
    exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 49

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  fi

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
    exit 1
  }
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 50

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python

  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
    exit 1
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 51

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  grep -qi "DebVisor storage profile: $p" "${TXT_OUT}" || {
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
    exit 1
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 52

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    echo "Text summary does not contain expected profile $p" >&2
    cat "${TXT_OUT}" >&2
    exit 1
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 53

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    cat "${TXT_OUT}" >&2
    exit 1
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
    exit 1
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 54

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    exit 1
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
    exit 1
  }
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 55

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  }
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
    exit 1
  }
done
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 56

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  jq -e ".profile == \"$p\"" "${JSON_OUT}" >/dev/null 2>&1 || {
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
    exit 1
  }
done

```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 57

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    echo "JSON does not report expected profile $p" >&2
    cat "${JSON_OUT}" >&2
    exit 1
  }
done

echo "debvisor-profile-summary.sh smoke test passed for profiles: ${profiles[*]}"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 58

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    cat "${JSON_OUT}" >&2
    exit 1
  }
done

echo "debvisor-profile-summary.sh smoke test passed for profiles: ${profiles[*]}"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 59

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
    exit 1
  }
done

echo "debvisor-profile-summary.sh smoke test passed for profiles: ${profiles[*]}"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

### Issue at Line 60

**Tool:**shellcheck |**Code:**`1017` |**Severity:** ERROR

**Message:** Literal carriage return. Run script through tr -d '\r' .

### Context

```python
  }
done

echo "debvisor-profile-summary.sh smoke test passed for profiles: ${profiles[*]}"
```python

### Proposal

- Review the issue message above

- Consider the context code

- Apply the appropriate fix (e.g., fix linting error, add type hints, improve security)

- Ensure the fix aligns with the codebase style and the context.md guidelines

---

## Implementation Progress

To mark an issue as fixed, add the issue code to the line below with a âœ… emoji:

**Fixed Issues:** (none yet)

---
*Updated: (auto-populated by coding expert)*
